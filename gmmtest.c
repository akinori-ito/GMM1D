#include <stdlib.h>
#include <stdio.h>
#include "gmm.h"

double data[] = {
   1.03831203, 2.77811965, 4.66900248, 0.03010629, 2.84686648, 5.05748876,
   2.64216769, 3.20959008, 2.64326564, 0.79262546,-2.04034488,-3.34256235,
  -2.91792474,-2.51164182,-2.51167798,-3.52387119,-2.79127422,-1.51495072,
  -2.24002225,-2.91388771,-3.07800330,-2.83689547,-2.42463841,-3.06811567,
  -2.58982315,-2.34873603,-1.95599698,-2.74070685,-2.46471549,-1.90686785,
};

int ndata = 30;

int main(int argc, char **argv)
{
    GMM gmm;
    int i;

    GMM_init(&gmm,2,ndata,data);
    GMM_train(ndata,data,&gmm,10);
    for (i = 0; i < 2; i++) {
      printf("%d: %g %g %g\n", i+1,gmm.weight[i],gmm.g[i].mean,gmm.g[i].var);
    }
    return 0;
}
